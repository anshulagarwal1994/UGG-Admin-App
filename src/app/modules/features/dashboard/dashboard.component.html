


<!-- New Design -->

<div class="container-fluid mt-5">
  <div class="card">
    <div class="card-body">
      <div class="row">
        <div class="col-md-6 lg-6">
          <h2 class="h2">{{'allTypeContent.tenantList' | translate}}</h2>
        </div>
        <div *ngIf="createTenant" class="col-md-6">
          <span class="creation-button">
            <button mat-raised-button color="primary" class="btn-primary"
              (click)="navigateTenant();">{{'button.newTenant' | translate}}</button>
          </span>
        </div>
        <div class="col-md-6 lg-6 text-end">
          <div class="head-right-outer">
              <!-- <a class="filter" href="#">Filter by Name <span class="material-symbols-outlined">keyboard_arrow_down</span></a>
              <a class="reg-org" href="#"><span class="material-symbols-outlined">add</span> Register Organization </a>
              <a class="back" href="#"><span class="material-symbols-outlined">keyboard_backspace</span> Back</a> -->
          </div>
        </div>
      </div>
      <div class="filter-outer">
          <div class="row">
              <div class="col-md-3 lg-3">

                <mat-form-field class="w-100 ucg-input" appearance="outline">
                  <mat-label>Filter by Name</mat-label>
                  <input matInput placeholder="Filter by Name" maxlength="150" min="3" max="150"
                  [formControl]="nameControl">
                  
              </mat-form-field>


                  <!-- <div class="input-group input-group-outline my-3">
                      <label class="form-label">Filter by Name</label>
                      <input type="text" [formControl]="nameControl" class="form-control">
                  </div> -->
              </div>
              <div class="col-md-3 lg-3">

                <mat-form-field class="w-100 ucg-input" appearance="outline">
                  <mat-label>Filter by Location</mat-label>
                  <input matInput placeholder="Filter by Location" maxlength="150" min="3" max="150"
                  [formControl]="locationControl">
                  
              </mat-form-field>

         
              </div>
              <div class="col-md-3 lg-3">
                  <div class="form-check form-switch">
                      <input class="form-check-input" (change)="toggleDeletedRecords()" type="checkbox" id="flexSwitchCheckDefault" checked="">
                      <label class="form-check-label" for="flexSwitchCheckDefault">Show Deleted Records</label>
                  </div>
              </div>
              <div class="col-md-3 lg-3">
                  <a class="reset-btn" (click)="resetFilters()"><span class="material-symbols-outlined">keyboard_arrow_down</span> Reset</a>
              </div>
          </div>
      </div>
      <div class="body-content-outer">
          <div class="row">
              <div class="col-md-12 lg-12">

                <div class="mat-elevation-z8 ucg-table">
                  <mat-table #table [dataSource]="dataSource" matSort matSortActive="registrationDate" matSortDirection="desc">
          
                    <ng-container matColumnDef="registrationDate">
                      <mat-header-cell *matHeaderCellDef mat-sort-header> </mat-header-cell>
                      <mat-cell *matCellDef="let element"> {{element.registrationDate |
                        date:"MM-dd-yyyy h:mm a"}} </mat-cell>
                    </ng-container>
          
                    <ng-container matColumnDef="tenantId">
                      <mat-header-cell *matHeaderCellDef mat-sort-header> {{'table.header.tenantId' | translate}}
                      </mat-header-cell>
                      <mat-cell *matCellDef="let element"> {{element.tenantId}} </mat-cell>
                    </ng-container>
          
                    <ng-container matColumnDef="name">
                      <mat-header-cell *matHeaderCellDef mat-sort-header> {{'table.header.name' | translate}} </mat-header-cell>
                      <mat-cell *matCellDef="let element" [ngClass]="{'disable-link': deletedRecords}" (click)="edit(element);"
                        style="cursor:pointer;"> {{element.name}}
                      </mat-cell>
                    </ng-container>
          
                    <ng-container matColumnDef="location">
                      <mat-header-cell *matHeaderCellDef mat-sort-header> {{'table.header.location' | translate}}
                      </mat-header-cell>
                      <mat-cell *matCellDef="let element">{{element.location}} </mat-cell>
                    </ng-container>
          
                    <ng-container matColumnDef="sitescount">
                      <mat-header-cell *matHeaderCellDef mat-sort-header class="alignCenter"> {{'table.header.sites' | translate}}
                      </mat-header-cell>
                      <mat-cell *matCellDef="let element" class="alignCenter"> 
                        <div>
                          <b>{{element.sitescount}}</b><span *ngIf="deletedRecords && element.siteList.length"> - {{ element.siteList.join(', ') }}</span>
                        </div>
                      </mat-cell>
                    </ng-container>
          
                    <ng-container matColumnDef="chargepointscount">
                      <mat-header-cell *matHeaderCellDef mat-sort-header class="alignCenter"> {{'table.header.chargePoints' |
                        translate}} </mat-header-cell>
                      <mat-cell *matCellDef="let element" class="alignCenter"> 
                        <div>
                          <b>{{element.chargepointscount}}</b><span *ngIf="deletedRecords && element.chargePointList.length"> - {{ element.chargePointList.join(', ') }}</span>
                        </div>
                      </mat-cell>
                    </ng-container>
          
                    <ng-container matColumnDef="status" style="cursor: default;cursor:pointer;">
                      <mat-header-cell *matHeaderCellDef class="spc-action" [ngClass]="{'disable-link hide': deletedRecords}">
                        Action </mat-header-cell>
                      <mat-cell *matCellDef="let element" class="spc-even" [ngClass]="{'disable-link hide': deletedRecords}">
                        <img matTooltip="Organization Details" src="/assets/zoom-in.svg" (click)="edit(element);" />
                        &nbsp; &nbsp; &nbsp;
                        <img matTooltip="Delete Organization" *ngIf="!element.isRequestRaised && canDeleteTenant" width="24"
                          src="/assets/delete.png" (click)="deleteTenant(element)" />
                        <img matTooltip="Undo Delete Organization" width="24" *ngIf="element.isRequestRaised && !deletedRecords"
                          (click)="unDeleteTenant(element)"
                          src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAEWElEQVRoge2YS2hcVRjH/985k8dkklJRS6OWKpUa0RYh0SSV4NyZWrpIyBQ7ulAURERwIbh0Y5Z1IxZEVFyIYMHYmIYExTSZCYgm03QQ6ys+ikmNSfMyNkkd28y5n4s4YZjcmXNflRbmvzyP7/v973ncez+grLLKKqussmxqLdq8fy3avP96ii+cBAd4GMxDawdb9znHsxmfeOSy0dxodx45Cg7cAgBgLEDIaO3Q6LfucDXxCcuk6NFQMpXWzdUa2BI8J59MFI0PLLI0jbrBs9+Vmq/dQky0DiC7pYNwK0w1vHqo6X4nwPkqAQ8wLdJVWtTFsLWFVg+23EtsJgDstOieZ2lGdU+qUBr4CZimUTsyflEXx5YBAFg51NgglEzCBxN+wQMODACbJhIA6i2659nkSF1y/PtSMUrCAz9RQBmhz9OzdpkcGQC8mfAbHnDwHshp22B6wjRNA4BVoh0kKLFqPHhfYYcG/mcSFRGn8ICLFchpxWi6RwhKAHSbRfccgyJ1w6kfAC38LyQqwqHTX8644XBtALBngoBAKXjB0qhJjP7hlsGTAUBrYglEAsw3bUlM+JVMGfYCD/hgAABWog/tFeBkERNWmpRKGMGRsUmvuX0xADgyMSWVCPsBD/hoAMiZwBcAdlhn4xmZlQ/7BQ+4uEZLB6NqJqooOoBJXAUF/M3pk3JXJVkc2DztlFIlL4Vb7/Yrry9bSHPPW2k6yyq8PZE+7zW35xXQwM8CmLZovyNAMvlXpHGP1/yeDGjgp7Os2qQSbQCsDu0uP0y4NqCDV0oa2xPp88GRsUnJgTCsTAixq6bzqa8zx1+LgkEdnxw55pTD1RnQwF80pTK2DaYn8hszkQO7FWWTAO4CAKqqQtWTL0A27IN56U/17MKbp5cqs4cHjpxyxOR4BTTwc0wiUggPAMHEV1OSAwaA36imFtXPvbwBn7mMt2c+lkuV2cNOWQCHBrTwoEjd0NiPxebnTFQ/82JG7N6D9eUFvDr1Dj4Luf8csr1ctuD/+3zWaf34sQOr9bcPvcKfBqcrM7rhioB5Zhon4g8bv3ngZFdXl+nIgAbe1q9kvjp6YzEwTjAhaHdOns5QQMX7O/ovAF7qQhtyDN/eG3sJwOvwcAMSMIuAaunv6L/gvi7EWGBpRp3Ab2TnZQDafVOSCahnJT4Cg9zVhTxW5TpOPtYAqboZ8FRjZabHbR/iTRMM6UdJMd4dD/5Tsf4GA8/ntxe+B+Ld8cpMxXobA+8RcGdBGGcvjVzpu3Y4dc4VtYXaT3U+Daa3AISArQY2x/XGogCGCppnHB2k2uHUOT/hAWAg1vcBKdlEQMkVFcI8Y9F8s68/NG7Vf7Rn4krN360MvF9sjGJq3tLItOjrL+W1ULw7XnklkH1EEb/r+Qz832rvjXHJAcTx62ILudToQGdfz41qYEYSPwEC33gGiMckcUtfrO93APC1xHGNpADMgSkFYZ4Y6OzrAWHzbPwLcyQRDfJSCAYAAAAASUVORK5CYII=">
                      </mat-cell>
                    </ng-container>
          
                    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                    <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
                  </mat-table>
          
                  <div *ngIf="process" class="text-center norecord">
                    <img class="rotate" width="35" src="assets/greenprocess.png" />
                  </div>
          
                  <div *ngIf="!process && (dataSource.data.length == 0 || dataSource.filteredData.length == 0)" class="norecord">
                    {{'table.noRecordFound' | translate}}</div>
          
                  <mat-paginator #paginator [length]="totalCount" [pageIndex]="pageNumber" [pageSize]="pageSize"
                    [pageSizeOptions]="[5, 10, 20]" [showFirstLastButtons]="true" (page)="pageChanged($event)">
                  </mat-paginator>
                </div>
                  
              </div>
          </div>
      </div>
    </div>
  </div>
</div>

